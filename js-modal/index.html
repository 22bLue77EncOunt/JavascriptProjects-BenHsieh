<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>js-modal</title>
</head>

<body>
    <div class="container">
        <div class="modal-control">
            <p class="content"></p>
            <a href="#" class="btn">Edit</a>
        </div>
    </div>
    <script>
        let editValueButton = document.querySelector('.btn');
        let Container = document.querySelector('.container');
        let backdrop;
        let modal;

        let output = document.querySelector('.content');
        let content = 'Lorem ipsum dolor sit amet.';
        var editedContent = '';

        function update() {
            output.textContent = content;
        }
        funtion closeModal() {
            if (backdrop) {
                backdrop.remove();
            }
            if (modal) {
                modal.remove();
            }
        }
        update();
        editValueButton.addEventListener('click', function() {
            backdrop = document.createElement('div');
            backdrop.classList.add('backdrop');
            backdrop.addEventListener('click', closeModal);
            document.body.insertBefore(backdrop, Container);
            backdrop.addEventListener('click', closeModal);

            modal = document.createElement('div');
            modal.classList.add('modal');

            var modalTitle = document.createElement('h1');
            modalTitle.textContent = '編輯';
            modal.appendChild(modalTitle);

            var textEditContainer = document.createElement('div');
            textEditContainer.classList.add('modal-input');
            modal.appendChild(textEditContainer);

            var textEditArea = document.createElement('textarea');
            textEditArea.rows = '3';
            textEditArea.addEventListener('input', function() {
                editedContent = textEditArea.value;
            });
            textEditArea.value = content;
            textEditContainer.appendChild(textEditArea);

            var modalActionsContainer = document.createElement('div');
            modalActionsContainer.classList.add('modal-actions');
            modal.appendChild(modalActionsContainer);

            var cancelButton = document.createElement('button');
            cancelButton.setAttribute('type', 'button');
            cancelButton.classList.add('btn-cancel');
            cancelButton.textContent = 'Cancel';
            cancelButton.addEventListener('click', closeModal);
            modalActionsContainer.appendChild(cancelButton);

            var confirmButton = document.createElement('button');
            confirmButton.setAttribute('type', 'button');
            confirmButton.classList.add('btn-confirm');
            confirmButton.textContent = 'Confirm';
            confirmButton.addEventListener('click', function() {
                closeModal();
                if (editedQuote.trim().length > 0) {
                    content = editedContent;
                    update();
                }
            });
            modalActionsContainer.appendChild(confirmButton);

            document.body.insertBefore(modal, demoContainer);
        });
    </script>
</body>

</html>